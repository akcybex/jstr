(function(e,h){typeof exports=="object"&&typeof module<"u"?module.exports=h():typeof define=="function"&&define.amd?define(h):(e=typeof globalThis<"u"?globalThis:e||self,e.JStr=h())})(this,function(){"use strict";var a=Object.defineProperty;var o=(e,h,t)=>h in e?a(e,h,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[h]=t;var n=(e,h,t)=>(o(e,typeof h!="symbol"?h+"":h,t),t);class e{constructor(t){n(this,"str");this.str=t}repeat(t){return this.str=this.str.repeat(t),this}lower(){return this.str=this.str.toLowerCase(),this}upper(){return this.str=this.str.toUpperCase(),this}capitalize(){return this.str=this.str.toLowerCase(),this.str=this.str.replace(/(^\w{1})|(\s+\w{1})/g,t=>t.toUpperCase()),this}after(t){const s=this.str.indexOf(t);return s===-1?this:(this.str=this.str.substring(s+t.length),this)}afterLast(t){const s=this.str.lastIndexOf(t);return s!==-1?this.str.substring(s+t.length):this.str}before(t){const s=this.str.indexOf(t);return s===-1?this:(this.str=this.str.substring(0,s),this)}beforeLast(t){const s=this.str.lastIndexOf(t);return s!==-1&&(this.str=this.str.substring(0,s)),this}camel(){return this.str=this.str.replace(/[-_\s]+(.)?/g,(t,s)=>s?s.toUpperCase():""),this.str=this.str.substr(0,1).toLowerCase()+this.str.substr(1),this}contains(t){return typeof t=="string"&&(t=[t]),t.some(s=>this.str.includes(s))}startsWith(t){return this.str.startsWith(t)}endsWith(t){return this.str.endsWith(t)}slug(t="-"){return this.str=this.str.toLowerCase().replace(/[\s_]+/g,t).replace(/[^\w-]+/g,""),this}snake(t="_"){let s=this.str.replace(/[\s-]+/g,t).replace(/([A-Z])/g,(r,i)=>t+i.toLowerCase());return s.startsWith(t)&&(s=s.substring(1)),this.str=s,this}studly(){return this.str=this.str.toLowerCase().replace(/(?:^|\s|-)+(.)/g,(t,s)=>s.toUpperCase()),this}replaceArray(t,s){let r=this.str;return s.forEach(i=>{r=r.replace(t,i)}),this.str=r,this}replaceFirst(t,s){const r=this.str.indexOf(t);return r===-1?this:(this.str=this.str.substring(0,r)+s+this.str.substring(r+t.length),this)}replaceLast(t,s){const r=this.str.lastIndexOf(t);return r===-1?this:(this.str=this.str.substring(0,r)+s+this.str.substring(r+t.length),this)}substr(t,s){return this.str=this.str.substr(t,s),this}padBoth(t,s){return this.str=this.str.padStart((this.str.length+t)/2,s).padEnd(t,s),this}padLeft(t,s){return this.str=this.str.padStart(t,s),this}padRight(t,s){return this.str=this.str.padEnd(t,s),this}limit(t,s=""){return this.str.length>t&&(this.str=this.str.substring(0,t)+s),this}length(){return this.str.length}match(t){return this.str.match(t)||[]}plural(){return this.str.endsWith("s")||(this.str.endsWith("y")&&this.str.length>1&&!"aeiou".includes(this.str[this.str.length-2])?this.str=this.str.slice(0,-1)+"ies":this.str+="s"),this}singular(){const t={children:"child",mice:"mouse",geese:"goose",oxen:"ox",deer:"deer",alumni:"alumnus",data:"datum",criteria:"criterion",phenomenon:"phenomenon",medium:"medium",bacteria:"bacterium",fungi:"fungus",cacti:"cactus",radius:"radius",status:"status",syllabus:"syllabus",women:"woman",men:"man"};return t.hasOwnProperty(this.str)?this.str=t[this.str]:(/(?:s|x|z|sh|ch)$/.test(this.str)&&(this.str=this.str.replace(/(?:s|x|z|sh|ch)s$/,"$1")),this.str.endsWith("ies")&&(this.str=this.str.replace(/ies$/,"y"))),this}title(){return this.str=this.str.replace(/\w\S*/g,t=>t.charAt(0).toUpperCase()+t.substr(1).toLowerCase()),this}static random(t=16){const s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";let r="";for(let i=0;i<t;i++)r+=s.charAt(Math.floor(Math.random()*s.length));return new e(r)}substring(t,s){return this.str=this.str.substring(t,s),this}split(t,s){return this.str.split(t,s)}startsWithAny(t){return t.some(s=>this.str.startsWith(s))}endsWithAny(t){return t.some(s=>this.str.endsWith(s))}ascii(){return this.str=this.str.normalize("NFD").replace(/[\u0300-\u036f]/g,""),this}replace(t,s){return this.str=this.str.replace(new RegExp(t,"g"),s),this}reverse(){return this.str=this.str.split("").reverse().join(""),this}trim(){return this.str=this.str.trim(),this}trimStart(){return this.str=this.str.trimStart(),this}trimEnd(){return this.str=this.str.trimEnd(),this}is(t){return t instanceof RegExp?t.test(this.str):new RegExp(t).test(this.str)}containsAll(t){return t.every(s=>this.str.includes(s))}static uuid(){return new e("xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,t=>{const s=Math.random()*16|0;return(t=="x"?s:s&3|8).toString(16)}))}when(t,s){return t&&s(this),this}whenEmpty(t){return this.str||t(this),this}append(t){return this.str+=t,this}prepend(t){return this.str=t+this.str,this}finish(t){return this.str.endsWith(t)||(this.str+=t),this}start(t){return this.str.startsWith(t)||(this.str=t+this.str),this}wordCount(){return this.str.split(/\s+/).filter(Boolean).length}isAscii(){return/^[\x00-\x7F]*$/.test(this.str)}isNumeric(){return/^[0-9]+$/.test(this.str)}isAlpha(){return/^[A-Za-z]+$/.test(this.str)}isAlphanumeric(){return/^[A-Za-z0-9]+$/.test(this.str)}kebab(t="-"){return this.str=this.str.replace(/([a-z])([A-Z])/g,"$1"+t+"$2").replace(/\s+/g,t).toLowerCase(),this}slice(t,s){return this.str=this.str.slice(t,s),this}stripTags(){return this.str=this.str.replace(/<\/?[^>]+(>|$)/g,""),this}excerpt(t,s="..."){return this.str.length>t&&(this.str=this.str.substring(0,t)+s),this}pad(t,s,r="right"){switch(r){case"left":this.str=this.str.padStart(t,s);break;case"right":this.str=this.str.padEnd(t,s);break;case"both":const i=t-this.str.length,u=Math.floor(i/2)+this.str.length;this.str=this.str.padStart(u,s).padEnd(t,s);break}return this}words(t,s="..."){const r=this.str.split(/\s+/);return r.length>t&&(this.str=r.slice(0,t).join(" ")+s),this}count(t){return(this.str.match(new RegExp(t,"g"))||[]).length}swapCase(){return this.str=this.str.split("").map(t=>t===t.toUpperCase()?t.toLowerCase():t.toUpperCase()).join(""),this}headline(){return this.str=this.str.replace(/[_-]/g," ").split(" ").map(t=>t.charAt(0).toUpperCase()+t.slice(1)).join(" "),this}reverseWords(){return this.str=this.str.split(" ").reverse().join(" "),this}toBoolean(){return/^(true|1|yes|on)$/i.test(this.str.trim())}truncate(t,s="..."){return this.str.length<=t?this:new e(this.str.substring(0,t-s.length)+s)}between(t,s){const r=this.str.indexOf(t),i=this.str.indexOf(s,r+t.length);return r!==-1&&i!==-1&&r<i?this.str.substring(r+t.length,i):""}static of(t){return new e(t)}toString(){return this.str}}return e});
